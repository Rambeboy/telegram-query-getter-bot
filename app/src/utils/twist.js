const _0x1d3a4d=_0x2799;(function(_0x175da2,_0x2a2a1b){const _0x405a07=_0x2799,_0x1ee648=_0x175da2();while(!![]){try{const _0x128c4d=parseInt(_0x405a07(0x10d))/0x1*(-parseInt(_0x405a07(0x125))/0x2)+-parseInt(_0x405a07(0x100))/0x3*(parseInt(_0x405a07(0x122))/0x4)+parseInt(_0x405a07(0x130))/0x5+parseInt(_0x405a07(0x113))/0x6+-parseInt(_0x405a07(0x106))/0x7*(parseInt(_0x405a07(0x111))/0x8)+-parseInt(_0x405a07(0x11e))/0x9+parseInt(_0x405a07(0x115))/0xa;if(_0x128c4d===_0x2a2a1b)break;else _0x1ee648['push'](_0x1ee648['shift']());}catch(_0x5d8b3a){_0x1ee648['push'](_0x1ee648['shift']());}}}(_0x20a7,0x6b2ab));import _0x3a39e3 from'input';import{TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import{Config}from'../../config/config.js';import{Core}from'../core/core.js';import{Helper}from'./helper.js';import _0x48743f from'./logger.js';import{botUrlList}from'../../accounts/bot_url_list.js';let sessionName=_0x1d3a4d(0x12b);export async function onBoarding(){const _0x4a9094=_0x1d3a4d,_0x3e4801=await _0x3a39e3[_0x4a9094(0x11d)](_0x4a9094(0xf6));switch(parseInt(_0x3e4801)){case 0x1:await sessionCreation(),await onBoarding();break;case 0x2:Helper[_0x4a9094(0x12e)]('sessions'),await onBoarding();break;case 0x3:Helper['getSession'](_0x4a9094(0x12b))[_0x4a9094(0x124)]===0x0?(console['info'](_0x4a9094(0x12d)),await onBoarding()):(await sessionSelection(),await processSingleSession(sessionName),await onBoarding());break;case 0x4:await processAllSessions(),await postProcessingMenu();break;default:console[_0x4a9094(0xfb)](_0x4a9094(0xf4)),await onBoarding();break;}}async function sessionCreation(){const _0x1726f7=_0x1d3a4d,_0x15c33b=Helper[_0x1726f7(0x11a)](_0x1726f7(0x12b));let _0x1a34b5=_0x1726f7(0x10a);for(const _0x2e0d89 of _0x15c33b){_0x1a34b5+=_0x15c33b[_0x1726f7(0x104)](_0x2e0d89)+0x1+'.\x20'+_0x2e0d89+'\x0a';}_0x1a34b5+=_0x15c33b[_0x1726f7(0x124)]===0x0?_0x1726f7(0x102):'\x0a\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session:';const _0x1fbbf0=await _0x3a39e3['text'](_0x1a34b5);sessionName=Helper[_0x1726f7(0x103)](_0x1fbbf0);const _0x5f3c37=new TelegramClient(new StoreSession(sessionName),Number(Config[_0x1726f7(0xf2)]),Config['TELEGRAM_APP_HASH'],{'connectionRetries':0xa,'connectionTimeout':0x1e});try{await _0x5f3c37[_0x1726f7(0xf3)]({'phoneNumber':async()=>await _0x3a39e3['text'](_0x1726f7(0xf5)),'password':async()=>await _0x3a39e3['text']('Enter\x20your\x20Telegram\x20Password:\x20'),'phoneCode':async()=>await _0x3a39e3[_0x1726f7(0x11d)](_0x1726f7(0x110)),'onError':_0x3ba626=>console[_0x1726f7(0x101)](_0x3ba626)}),console[_0x1726f7(0x101)](_0x1726f7(0xf7)),_0x48743f[_0x1726f7(0x121)](_0x1726f7(0x105)+_0x1fbbf0+_0x1726f7(0xfe));}catch(_0x14f208){console['error'](_0x1726f7(0xf9)+_0x1fbbf0+':',_0x14f208),_0x48743f[_0x1726f7(0xfb)]('Session\x20'+_0x1fbbf0+_0x1726f7(0x12c)+_0x14f208['message']);}finally{try{await _0x5f3c37[_0x1726f7(0x114)](),console['log'](_0x1726f7(0xf1)),_0x48743f[_0x1726f7(0x121)](_0x1726f7(0x105)+_0x1fbbf0+_0x1726f7(0x116));}catch(_0x590e43){console['error'](_0x1726f7(0x10e),_0x590e43);}}}async function sessionSelection(){const _0x123780=_0x1d3a4d,_0x3268a9=Helper['getSession'](_0x123780(0x12b));if(_0x3268a9[_0x123780(0x124)]===0x0){console[_0x123780(0x121)](_0x123780(0x107)),await sessionCreation();return;}let _0x51159d=_0x123780(0x10a);for(const _0x19bac3 of _0x3268a9){_0x51159d+=_0x3268a9[_0x123780(0x104)](_0x19bac3)+0x1+'.\x20'+_0x19bac3+'\x0a';}_0x51159d+=_0x123780(0x11c);const _0x536275=await _0x3a39e3[_0x123780(0x11d)](_0x51159d),_0x25c503=_0x3268a9[parseInt(_0x536275)-0x1];_0x25c503?(sessionName=_0x123780(0x108)+_0x25c503,console[_0x123780(0x121)]('Using\x20session\x20'+_0x25c503)):(console['error'](_0x123780(0x10c)),await sessionSelection());}async function processSingleSession(_0x19028b){const _0x26947d=_0x1d3a4d,_0xfbbedd=await selectBot(),_0x233025=_0xfbbedd[_0x26947d(0xfd)],_0x3cf0bf=await selectQueryResultType(),_0x25992d=new TelegramClient(new StoreSession(_0x19028b),Number(Config['TELEGRAM_APP_ID']),Config[_0x26947d(0x128)],{'connectionRetries':0xa,'connectionTimeout':0xea60});try{await _0x25992d['start']({'phoneNumber':async()=>await _0x3a39e3[_0x26947d(0x11d)](_0x26947d(0xf5)),'password':async()=>await _0x3a39e3[_0x26947d(0x11d)](_0x26947d(0x129)),'phoneCode':async()=>await _0x3a39e3[_0x26947d(0x11d)](_0x26947d(0x110)),'onError':_0x5442cb=>console['log'](_0x5442cb)}),console['log'](_0x26947d(0x127)),_0x48743f[_0x26947d(0x121)](_0x26947d(0x105)+_0x19028b+_0x26947d(0x123));const _0x429bee=new Core(_0x25992d,_0x19028b,_0xfbbedd[_0x26947d(0xff)],_0x233025,_0x3cf0bf),_0x203e0f=await _0x429bee['process']();console[_0x26947d(0x101)](_0x26947d(0x11b)+_0x19028b+':\x20'+_0x203e0f);}catch(_0x5afc87){console[_0x26947d(0xfb)]('Error\x20processing\x20session\x20'+_0x19028b+':',_0x5afc87);}finally{await _0x25992d[_0x26947d(0x114)]()[_0x26947d(0xf8)](()=>{}),_0x48743f[_0x26947d(0x121)]('Session\x20'+_0x19028b+_0x26947d(0x116));}}function _0x20a7(){const _0x570330=['forEach','url','\x20-\x20Created\x20and\x20connected','bot','45ZDiyQp','log','<empty>\x0a\x0aPlease\x20enter\x20Session\x20Name:','createDir','indexOf','Session\x20','683599RSHFLr','No\x20sessions\x20available.\x20Please\x20create\x20a\x20new\x20session.','sessions/','\x0aEnter\x20bot\x20number\x20to\x20connect:','Your\x20session\x20List:\x0a\x0a','Invalid\x20bot\x20choice.','Invalid\x20choice.\x20Please\x20try\x20again.','1sTwsbD','Error\x20disconnecting\x20client:','\x0aAggregated\x20Queries\x20from\x20All\x20Sessions:\x0a','Enter\x20the\x20Telegram\x20Verification\x20Code\x20you\x20received:\x20','56dAOzvm','Program\x20exited\x20by\x20user.','3374460qmKkbk','disconnect','13921700xewLyI','\x20-\x20Client\x20disconnected','exit','All\x20sessions\x20have\x20been\x20processed.\x0a\x0a1.\x20Return\x20to\x20Welcome\x20Menu\x0a2.\x20Exit\x20Program\x0a\x0aInput\x20your\x20choice:','Invalid\x20input,\x20Please\x20try\x20again.','getSession','Query\x20Data\x20for\x20session\x20','\x0a\x0aPlease\x20select\x20Session:','text','7884216vgksmW','No\x20sessions\x20available\x20to\x20process.','Error\x20processing\x20session\x20','info','105652DBKquG','\x20-\x20Connected','length','850434FGIwNd','Exiting\x20program...','Connected.','TELEGRAM_APP_HASH','Enter\x20your\x20Telegram\x20Password:\x20','push','sessions','\x20Error\x20-\x20','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20one\x20first','resetSession','Connected\x20to\x20session\x20','4327050IjIxYu','Client\x20disconnected.','TELEGRAM_APP_ID','start','Invalid\x20input,\x20Please\x20try\x20again','Enter\x20your\x20Telegram\x20Phone\x20Number:\x20','Welcome\x20to\x20Telegram\x20Query\x20Getter\x20\x0aAuthor\x20:\x20Nofan\x20Rambe\x0a\x20\x0aLet\x27s\x20getting\x20started!\x0a\x20\x0a1.\x20Create\x20Sessions\x0a2.\x20Reset\x20Sessions\x0a3.\x20Get\x20Query\x0a4.\x20Process\x20All\x20Sessions\x0a\x20\x0aInput\x20your\x20choice:','Session\x20created\x20and\x20logged\x20in\x20successfully.','catch','Error\x20creating\x20session\x20','Bot\x20List:\x0a','error'];_0x20a7=function(){return _0x570330;};return _0x20a7();}async function processAllSessions(){const _0xdded9b=_0x1d3a4d,_0x4e0683=Helper[_0xdded9b(0x11a)](_0xdded9b(0x12b));if(_0x4e0683[_0xdded9b(0x124)]===0x0){console[_0xdded9b(0x121)](_0xdded9b(0x11f));return;}const _0x11d2b9=await selectBot(),_0x25d4db=_0x11d2b9[_0xdded9b(0xfd)],_0x4e0118=await selectQueryResultType(),_0x215aa3=[];for(const _0x2e8d57 of _0x4e0683){const _0x4924c5=_0xdded9b(0x108)+_0x2e8d57,_0x179a71=new TelegramClient(new StoreSession(_0x4924c5),Number(Config[_0xdded9b(0xf2)]),Config[_0xdded9b(0x128)],{'connectionRetries':0xa,'connectionTimeout':0xea60});try{await _0x179a71['start']({'phoneNumber':async()=>await _0x3a39e3[_0xdded9b(0x11d)](_0xdded9b(0xf5)),'password':async()=>await _0x3a39e3[_0xdded9b(0x11d)](_0xdded9b(0x129)),'phoneCode':async()=>await _0x3a39e3[_0xdded9b(0x11d)](_0xdded9b(0x110)),'onError':_0x29a765=>console['log'](_0x29a765)}),console[_0xdded9b(0x101)](_0xdded9b(0x12f)+_0x2e8d57+'.');const _0x14dda7=new Core(_0x179a71,_0x4924c5,_0x11d2b9[_0xdded9b(0xff)],_0x25d4db,_0x4e0118),_0x577af5=await _0x14dda7['process']();_0x215aa3[_0xdded9b(0x12a)](_0x577af5);}catch(_0x4e2eb5){console[_0xdded9b(0xfb)](_0xdded9b(0x120)+_0x2e8d57+':',_0x4e2eb5);}finally{await _0x179a71[_0xdded9b(0x114)]()[_0xdded9b(0xf8)](()=>{}),_0x48743f[_0xdded9b(0x121)](_0xdded9b(0x105)+_0x4924c5+_0xdded9b(0x116));}}console[_0xdded9b(0x101)](_0xdded9b(0x10f)),_0x215aa3[_0xdded9b(0xfc)]((_0x424ad4,_0x585825)=>{console['log'](_0x585825+0x1+'.\x20'+_0x424ad4);});}async function selectBot(){const _0x44abee=_0x1d3a4d;let _0x3c739e=_0x44abee(0xfa);botUrlList[_0x44abee(0xfc)]((_0x4cdb8c,_0x53675b)=>{const _0x4d4e52=_0x44abee;_0x3c739e+=_0x53675b+0x1+'.\x20'+_0x4cdb8c[_0x4d4e52(0xff)]+'\x0a';});const _0x5f3ab0=parseInt(await _0x3a39e3[_0x44abee(0x11d)](_0x3c739e+_0x44abee(0x109)))-0x1,_0x486669=botUrlList[_0x5f3ab0];if(!_0x486669)throw new Error(_0x44abee(0x10b));return _0x486669;}async function selectQueryResultType(){const _0x1aa7d7=_0x1d3a4d;return await _0x3a39e3[_0x1aa7d7(0x11d)]('Select\x20Query\x20Result\x20Type\x20?\x0a\x20\x0a1.\x20URI\x20Component\x20\x0a2.\x20JSON\x20String\x0a3.\x20Init\x20Params\x20(DEFAULT)\x0a\x20\x0aPlease\x20select\x20result\x20type\x20:');}function _0x2799(_0x1b1746,_0x3c0666){const _0x20a775=_0x20a7();return _0x2799=function(_0x2799db,_0x5765ae){_0x2799db=_0x2799db-0xf1;let _0x5d1ce9=_0x20a775[_0x2799db];return _0x5d1ce9;},_0x2799(_0x1b1746,_0x3c0666);}async function postProcessingMenu(){const _0x56ba1d=_0x1d3a4d,_0x2d5c5f=await _0x3a39e3['text'](_0x56ba1d(0x118));switch(parseInt(_0x2d5c5f)){case 0x1:await onBoarding();break;case 0x2:console[_0x56ba1d(0x101)](_0x56ba1d(0x126)),_0x48743f[_0x56ba1d(0x121)](_0x56ba1d(0x112)),process[_0x56ba1d(0x117)](0x0);default:console[_0x56ba1d(0xfb)](_0x56ba1d(0x119)),await postProcessingMenu();break;}}
